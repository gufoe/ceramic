(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46a23e7e"],{"2ff2":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.selected?[i("project",{attrs:{project:t.selected}})]:i("div",{staticClass:"project-list text-center"},[t.projects?i("div",[i("b-button",{staticClass:"mb-4",attrs:{variant:"primary",disabled:t.is_creating},on:{click:function(e){return t.create()}}},[t._v(" Create new project ")]),t._l(t.projects,(function(e){return i("div",{key:e.id,staticClass:"project",on:{click:function(i){return t.open(e)}}},[i("b-button",{attrs:{variant:"outline-primary"}},[t._v(" "+t._s(e.name)+" ")])],1)}))],2):i("div",{staticClass:"loading"},[t._v(" Loading... ")])])],2)},n=[],o=(i("7db0"),i("d3b7"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"project-page"},[i("h1",[t._v(t._s(t.project.name))]),i("h5",[t._v("Secret: "),i("code",[t._v(t._s(t.project.secret))])]),i("div",{staticClass:"mt-4"},[i("b-form",{ref:"build_form",on:{submit:function(e){return e.preventDefault(),t.startBuild()}}},[i("b-row",[i("b-col",{staticStyle:{"flex-grow":"10"}},[i("b-form-file",{attrs:{accept:".zip",placeholder:"Select your project"},model:{value:t.build_form.file,callback:function(e){t.$set(t.build_form,"file",e)},expression:"build_form.file"}})],1),i("b-col",[i("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.build_form.file}},[t._v(" Upload ")])],1)],1)],1),i("div",[i("div",{staticClass:"builds-table my-5"},t._l(t.project.builds,(function(e,r){return i("div",{key:e.id,staticClass:"row",attrs:{old:r>0}},[i("div",{staticClass:"col-6 col-md-4 state"},[i("div",["built"==e.status?i("b-icon-award"):"building"==e.status?i("b-icon-gear-fill",{attrs:{animation:"spin"}}):"pending"==e.status?i("b-icon-alarm-fill",{attrs:{animation:"fade"}}):"failed"==e.status?i("b-icon-exclamation-triangle-fill"):"canceled"==e.status?i("b-icon-trash-fill"):t._e(),i("span",{staticClass:"ml-2"},[t._v(" "+t._s(t.$t("build_status."+e.status))+" ")])],1)]),i("div",{staticClass:"col-6 col-md-4 time"},[i("b-icon-clock",{staticClass:"mr-2"}),i("timeago",{attrs:{datetime:t.$utc(e.created_at),autoUpdate:!0}})],1),i("div",{staticClass:"col-12 col-md-4 text-right"},["built"==e.status?i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],attrs:{title:"Download debug apk",variant:"link",href:t.$store.linkTo(e.id+"-debug.apk"),download:t.project.name+".apk"}},[i("b-icon-file-earmark-code")],1):t._e(),"built"==e.status?i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],attrs:{title:"Download release apk",variant:"link",href:t.$store.linkTo(e.id+"-release.apk"),download:t.project.name+".apk"}},[i("b-icon-file-earmark-check")],1):t._e(),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],attrs:{variant:"link",title:"Download source code",href:t.$store.linkTo(e.input+".zip"),download:t.project.name+".zip"}},[i("b-icon-file-earmark-zip")],1)],1)])})),0)])],1)])}),a=[],s={props:{project:{required:!0,type:Object}},data:function(){return{build_form:{file:null}}},methods:{startBuild:function(){var t=this,e=new FormData;for(var i in this.build_form)e.append(i,this.build_form[i]);this.$http.post("projects/".concat(this.project.id,"/build"),e).then((function(e){t.project.builds.unshift(e.data)}))}}},c=s,l=(i("57d2"),i("2877")),u=Object(l["a"])(c,o,a,!1,null,null,null),d=u.exports,f={components:{project:d},data:function(){return{projects:null,is_creating:!1}},computed:{selected:function(){var t=this;return(this.projects||[]).find((function(e){return e.id==t.$route.params.id}))}},created:function(){var t=this;this.refresh(),this._int=setInterval((function(){return t.refresh()}),2e3)},beforeDestroy:function(){clearInterval(this._int)},methods:{refresh:function(){var t=this;this.$http.get("projects").then((function(e){t.projects=e.data}))},create:function(){var t=this;this.is_creating=!0;var e={name:"Project #"+(this.projects.length+1),config:{}};this.$http.post("projects",e).then((function(e){t.projects.unshift(e.data),t.$router.push({params:{id:e.data.id}})})).finally((function(){t.is_creating=!1}))},open:function(t){this.$router.push({params:{id:t.id}})}}},p=f,b=(i("ccf1"),Object(l["a"])(p,r,n,!1,null,null,null));e["default"]=b.exports},"57d2":function(t,e,i){"use strict";var r=i("dd3d"),n=i.n(r);n.a},"5a22":function(t,e,i){},"65f0":function(t,e,i){var r=i("861d"),n=i("e8b5"),o=i("b622"),a=o("species");t.exports=function(t,e){var i;return n(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?r(i)&&(i=i[a],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"7db0":function(t,e,i){"use strict";var r=i("23e7"),n=i("b727").find,o=i("44d2"),a=i("ae40"),s="find",c=!0,l=a(s);s in[]&&Array(1)[s]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!l},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},ae40:function(t,e,i){var r=i("83ab"),n=i("d039"),o=i("5135"),a=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var i=[][t],l=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:c,d=o(e,1)?e[1]:void 0;return s[t]=!!i&&!n((function(){if(l&&!r)return!0;var t={length:-1};l?a(t,1,{enumerable:!0,get:c}):t[1]=1,i.call(t,u,d)}))}},b727:function(t,e,i){var r=i("0366"),n=i("44ad"),o=i("7b0b"),a=i("50c4"),s=i("65f0"),c=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d;return function(p,b,v,m){for(var h,_,j=o(p),k=n(j),g=r(b,v,3),w=a(k.length),y=0,C=m||s,$=e?C(p,w):i?C(p,0):void 0;w>y;y++)if((f||y in k)&&(h=k[y],_=g(h,y,j),t))if(e)$[y]=_;else if(_)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:c.call($,h)}else if(u)return!1;return d?-1:l||u?u:$}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},ccf1:function(t,e,i){"use strict";var r=i("5a22"),n=i.n(r);n.a},dd3d:function(t,e,i){},e8b5:function(t,e,i){var r=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}}}]);
//# sourceMappingURL=chunk-46a23e7e.cb33b7bd.js.map